.dn-prose {
  @apply leading-relaxed antialiased;

  > :first-child {
    margin-top: 0;
  }

  > :last-child {
    margin-bottom: 0;
  }

  h1 {
    @apply font-bold;

    /* 36px at base 16px */
    font-size: 2.25em;
  }

  > h1 {
    margin-top: 0;
    margin-bottom: 1.11em;
  }

  h2 {
    @apply font-bold;

    /* 28px at base 16px */
    font-size: 1.75em;
    line-height: 1.3333333;
  }

  > h2 {
    /* 40px at base 28px */
    margin-top: 1.428em;
    /* 28px at base 28px */
    margin-bottom: 1em;
  }

  h3 {
    @apply font-semibold;

    /* 20px at base 16px */
    font-size: 1.25em;
  }

  > h3 {
    /* 40px at base 20px */
    margin-top: 2em;
    /* 16px at base 20px */
    margin-bottom: 0.8em;
  }

  h4 {
    @apply font-semibold;

    /* 16px at base 16px */
    font-size: 1em;
  }

  > h4 {
    /* 32px at base 16px */
    margin-top: 2em;
    /* 8px at base 16px */
    margin-bottom: 0.5em;
  }

  h2 + *,
  h3 + *,
  h4 + * {
    margin-top: 0px;
  }

  strong {
    @apply font-bold;
  }

  p {
    @apply flow-root;

    /* 18px at base 16px */
    margin-top: 1.125em;
    margin-bottom: 1.125em;

    &:first-child {
      margin-top: 0;
    }

    &:last-child {
      margin-bottom: 0;
    }
  }

  p > img {
    @apply ak-frame-lg ak-frame-border ak-edge -mx-1.5;

    /* 12px at base 16px */
    margin-top: 0.75em;
    margin-bottom: 0.75em;
  }

  p > a > img {
    @apply inline;
  }

  p,
  table,
  li,
  figcaption,
  caption {
    a {
      @apply ak-text-primary hover:ak-text-primary-2;
    }
  }

  hr {
    /* 24px at base 16px */
    margin-top: 1.5em;
    margin-bottom: 1.5em;
  }

  .dn-callout {
    /* 24px at base 16px */
    margin-top: 1.5em;
    margin-bottom: 1.5em;
  }

  ol,
  ul {
    @apply leading-relaxed;

    /* 24px at base 16px */
    margin-top: 1.5em;
    margin-bottom: 1.5em;
  }

  ol {
    li {
      position: relative;

      /* 12px at base 16px */
      padding-left: 0.75em;

      &::before {
        @apply font-medium;
        content: counter(list-item) '. ';
        font-variant-numeric: tabular-nums;
      }
    }
  }

  ul:not(.contains-task-list) {
    li {
      position: relative;

      /* 34px at base 16px */
      padding-left: 2.143em;

      &::before {
        @apply ak-layer-contrast-down-2;

        border-radius: 50%;
        content: '';
        position: absolute;

        /* 9px at base 16px */
        top: 0.5625em;

        /* 14px at base 16px */
        left: 0.875em;

        /* 8px at base 16px */
        height: 0.5em;
        width: 0.5em;
      }
    }
  }

  > ol > li {
    /* 4px at base 16px */
    padding-left: 0.25em;
  }

  > ul:not(.contains-task-list) > li {
    /* 30px at base 16px */
    padding-left: 1.875em;

    &::before {
      /* 4px at base 16px */
      left: 0.25em;
    }
  }

  li {
    @apply my-1.5;
  }

  li p {
    display: inline;
    /* 12px at base 16px */
    margin-top: 0.75em;
    margin-bottom: 0.75em;
  }

  li > *:first-child {
    margin-top: 0;
  }

  > ul p + *:last-child {
    /* 12px at base 16px */
    margin-bottom: 0.75em;
  }

  > ol p + *:last-child {
    /* 12px at base 16px */
    margin-bottom: 0.75em;
  }

  ul ul,
  ul ol,
  ol ul,
  ol ol {
    @apply my-0.5;
  }

  ul.contains-task-list {
    input {
      position: relative;
      top: 1px;

      /* -30px at base 16px */
      margin-left: -1.875em;

      /* 10px at base 16px */
      margin-right: 0.625em;
    }

    p {
      @apply mt-0;
    }
  }

  figure {
    /* 28px at base 16px */
    margin-top: 1.75em;
    margin-bottom: 1.75em;

    img,
    video,
    figure {
      @apply my-0;
    }
  }

  blockquote {
    p {
      /* 8px at base 16px */
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }
  }

  table {
    @apply w-full table-auto overflow-x-auto;

    /* 14px at base 16px */
    font-size: 0.875em;

    /* 34px at base 16px */
    margin-bottom: 2.125em;
  }

  thead {
    th,
    td {
      @apply px-3 py-2 font-semibold uppercase opacity-75;

      /* 12px at base 14px */
      font-size: 0.857em;

      &:first-child {
        @apply pl-2;
      }
    }
  }

  tbody {
    @apply ak-frame-lg ak-frame-border;

    tr {
      @apply border-t;

      &:first-child {
        border-top: 0;
      }

      &:nth-child(even) {
        /* @apply bg-canvas-tint; */
      }
    }
  }

  td {
    @apply px-3 py-2.5 align-top;

    /* 12px at base 16px */
    margin-left: 0.75em;
    margin-right: 0.75em;

    /* 10px at base 16px */
    margin-top: 0.625em;
    margin-bottom: 0.625em;
  }

  th:not([align='center'], [align='right']),
  td:not([align='center'], [align='right']) {
    @apply text-left;
  }

  pre [data-line] {
    padding-left: 1rem;
    padding-right: 1rem;
  }

  code[data-line-numbers] {
    counter-reset: line;
  }

  code[data-line-numbers] > [data-line]::before {
    @apply ak-text font-light;

    opacity: 0.6;
    counter-increment: line;
    content: counter(line);
    display: inline-block;
    width: 0.75rem;
    margin-right: 1rem;
    text-align: right;
  }

  code[data-line-numbers-max-digits='2'] > [data-line]::before {
    width: 1.25rem;
  }

  code[data-line-numbers-max-digits='3'] > [data-line]::before {
    width: 1.75rem;
  }

  code[data-line-numbers-max-digits='4'] > [data-line]::before {
    width: 2.25rem;
  }
}
